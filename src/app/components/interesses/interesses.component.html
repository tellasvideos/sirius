<mat-drawer-container>
    <mat-drawer mode="side" [opened]="sideBarOpen">
        <app-sidenav></app-sidenav>
    </mat-drawer>
    <mat-drawer class="sidebar" mode="side" position="end" opened>
        <app-sidebar></app-sidebar>
    </mat-drawer>

    <!-- Man interesses full content-->
    <mat-drawer-content>
        <app-header (toggleSidebarForMe)="sideBarToggler()"></app-header>

        <!-- Man interesses list-->
        <div class="d-flex mt-4 userlist justify-content-between" style="margin-left: 2%; margin-right: 2%;">
            <div class=" esp1">
                <h5 class="list-user-text text-black mb-4">Manifestação de interesses</h5>
            </div>

            <div class=" justify-content-between px-md-1">
                <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
                    <div class="btn-group btn-group-sm me-2" role="group" aria-label="First group">
                        <button type="button" printSectionId="print-section-list-interest" ngxPrint
                            printTitle="Manisfestação de Interesse" class="btn btn-light text-black"
                            styleSheetFile="assets/print.scss" [useExistingCss]="true" class="btn btn-light text-black"
                            style="text-transform: capitalize;"><i class="fas fa-print"></i> Imprimir</button>
                    </div>
                    <div class="btn-group btn-group-sm me-2" role="group" aria-label="Second group">
                        <button type="button" class="btn btn-light text-black"
                            style="text-transform: capitalize;">Exportar</button>
                    </div>
                    <div class="btn-group btn-group-sm" role="group" aria-label="Third group">
                        <button type="button" class="btn btn-success btn-top" (click)="openModal()"><i
                                class="fas fa-plus-square text-black"></i> Add Interesse
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!-- fim Man interesses list-->

        <!-- Second section for filtering data -->
        <div class="row mt-3 linhas1 " style="margin-left: 1%; margin-right: 1%; height: 15% auto;">
            <div class="mt-3 mb-3">
                <div class="btn-toolbar justify-content-center" role="toolbar" aria-label="Toolbar with button groups">
                    <div class="btn-group" ngbDropdown role="group" aria-label="Button group with nested dropdown">
                        <button style="text-transform: capitalize;" type="button"
                            class="btn btn-light dropdown-toggle-split" ngbDropdownToggle><i
                                class="fas fa-map-marker-alt"></i> Província </button>
                        <div class="dropdown-menu" ngbDropdownMenu>
                            <button ngbDropdownItem *ngFor="let item of provincias" [value]="item.id"
                                (click)="buscar(item.id)"> {{item.name}} </button>
                        </div>
                        <!--button  type="button" class="btn btn-light" style="text-transform: capitalize;">Buscar</button-->
                    </div>

                    <!--div class="m-1">
                        <select class="form-select form-select-sm select-prov" [(ngModel)]="provincia" name="provincia">
                            <option *ngFor="let item of provincia" [value]="item.id" > {{item.name}} </option>
                        </select>
                        <br>
                        <button (click)="buscar(provincia.id)"type="button" class="btn btn-light" style="text-transform: capitalize;" >Buscar</button>
                    </div-->

                    <!--div-- class="btn-group btn-group-sm me-2" role="group" aria-label="First group">
                        <button type="button" class="btn btn-light text-black" style="text-transform: capitalize;"><i
                                class="fas fa-spa"></i> Fazenda</button>
                    </div-->
                    <!--div class="btn-group btn-group-sm me-2" role="group" aria-label="Second group">
                        <button type="button" class="btn btn-light text-black" style="text-transform: capitalize;"><i
                                class="fas fa-map-marker-alt"></i> Província</button>
                    </div-->
                    <!--div class="btn-group btn-group-sm" role="group" aria-label="Third group">
                        <button type="button" class="btn btn-light text-black" style="text-transform: capitalize;"><i
                                class="fas fa-map-pin"></i> Município</button>
                    </!--div-->
                </div>
            </div>

            <!-- Resultado  da pesquisa por provincia-->
            <div class="table-responsive" *ngIf="man_Int_por_provincia">
                <table class="table table-sm table-hover text-center">
                    <tbody>
                        <tr *ngFor="let item of man_Int_por_provincia">
                            <td>{{item.farm_name}} </td>
                            <td>{{item.proponent_name}}</td>
                            <td>{{item.province_name}}</td>
                            <td>{{item.county}}</td>
                            <td>{{item.village}}</td>
                            <td>{{item.created_at | date:"dd/MM/yyyy"}}</td>
                            <td>{{item.condition}}</td>
                            <td><button type="button" [routerLink]="['/single-interest/', item.id]"
                                    routerLinkActive="active" class="btn btn-link btn-sm btn-rounded">
                                    <i class="far fa-eye"></i>
                                </button>
                            </td>
                            <td> <button type="button" [routerLink]="['/status-pn/', item.id]" routerLinkActive="active"
                                    class="btn btn-link btn-sm btn-rounded">
                                    <i class="far fa-clock"></i>
                                </button></td>

                            <td> <button type="button" [routerLink]="['/estatuto-pn/', item.id]"
                                    routerLinkActive="active" class="btn btn-link btn-sm btn-rounded">
                                    <i class="far fa-calendar-check"></i>
                                </button>
                            </td>
                            <td> <button type="button" [routerLink]="['/cadeias/', item.id]" routerLinkActive="active"
                                    class="btn btn-link btn-sm btn-rounded">
                                    <i class="far fa-lemon"></i> </button></td>

                            <td>

                                <button type="button" [routerLink]="['/edit-interest/', item.id]"
                                    routerLinkActive="active" class="btn btn-link btn-sm btn-rounded">
                                    <i class="fas fa-pen"></i>
                                </button>
                            </td>
                            <td> <button type="button" class="btn btn-link btn-sm btn-rounded"
                                    (click)="deleteInterest(item.id)">
                                    <i class="fas fa-trash-alt" style="color: red;"></i>
                                </button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Man-interesse table -->
        <div class=" row mt-3" style="margin-left: 1%; margin-right: 1%;">
            <div class="bm-3">
                <input class="form-control form-control-sm mb-2" placeholder="Pesquisar fazenda..."
                    [(ngModel)]="keyWord" type="text" style="width: 300px;">
            </div>
            <div class="table-responsive" id="print-section-list-interest">
                <table class="table table-sm table-hover text-center">
                    <thead class="linhas2">
                        <tr>
                            <th scope="col" class="text-black">Id</th>
                            <th scope="col" class="text-black">Nome/Fazenda</th>
                            <th scope="col" class="text-black">Proponente</th>
                            <th scope="col" class="text-black">Província</th>
                            <th scope="col" class="text-black">Município</th>
                            <th scope="col" class="text-black">Aldeia</th>
                            <th scope="col" class="text-black">Data</th>
                            <th scope="col" class="text-black not-it">Estado</th>
                            <th scope="col" class="text-black not-it">Ver</th>
                            <th scope="col" class="text-black not-it">Progresso</th>
                            <th scope="col" class="text-black not-it">Estatuto</th>
                            <th scope="col" class="text-black not-it">Cadeias</th>
                            <th scope="col" class="text-black not-it">Editar</th>
                            <th scope="col" class="text-black not-it">Apagar</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let interest of interest | search:'farm_name':keyWord">
                            <td>{{interest.id}} </td>
                            <td>{{interest.farm_name}} </td>
                            <td>{{interest.proponent_name}}</td>
                            <td>{{interest.province_name}}</td>
                            <td>{{interest.county}}</td>
                            <td>{{interest.village}}</td>
                            <td>{{interest.created_at | date:"dd/MM/yyyy"}}</td>
                            <td>{{interest.condition}}</td>
                            <td class="not-it"><button type="button" [routerLink]="['/single-interest/', interest.id]"
                                    routerLinkActive="active" class="btn btn-link btn-sm btn-rounded ">
                                    <i class="far fa-eye"></i>
                                </button>
                            </td>
                            <td class="not-it"> <button type="button" [routerLink]="['/status-pn/', interest.id]"
                                    routerLinkActive="active" class="btn btn-link btn-sm btn-rounded">
                                    <i class="far fa-clock"></i>
                                </button></td>

                            <td class="not-it"> <button type="button" [routerLink]="['/estatuto-pn/', interest.id]"
                                    routerLinkActive="active" class="btn btn-link btn-sm btn-rounded ">
                                    <i class="far fa-calendar-check"></i>
                                </button>
                            </td>
                            <td class="not-it"> <button type="button" [routerLink]="['/cadeias/', interest.id]"
                                    routerLinkActive="active" class="btn btn-link btn-sm btn-rounded ">
                                    <i class="far fa-lemon"></i> </button></td>

                            <td class="not-it">

                                <button type="button" [routerLink]="['/edit-interest/', interest.id]"
                                    routerLinkActive="active" class="btn btn-link btn-sm btn-rounded ">
                                    <i class="fas fa-pen"></i>
                                </button>
                            </td>
                            <td class="not-it"> <button type="button" class="btn btn-link btn-sm btn-rounded"
                                    (click)="deleteInterest(interest.id)">
                                    <i class="fas fa-trash-alt" style="color: red;"></i>
                                </button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </mat-drawer-content>
    <!-- Man interesses full content -->
</mat-drawer-container>